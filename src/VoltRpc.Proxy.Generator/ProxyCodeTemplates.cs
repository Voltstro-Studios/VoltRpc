namespace VoltRpc.Proxy.Generator;

/// <summary>
///     Contains code and templates for proxy generation
/// </summary>
public static class ProxyCodeTemplates
{
    private const string AutoGeneratedWarning =
        $@"//------------------------------------------------------------------------------
// <auto-generated>
//     This code was auto-generated by {ThisAssembly.Info.Title}, version {ThisAssembly.Info.InformationalVersion}.
//
//     Changes to this file will be lost if the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------";

    public const string GenerateProxyGeneratedDefaultNameSpace = "VoltRpc.Proxy.Generated";
    private const string GenerateProxyAttributeNamespace = "VoltRpc.Proxy";
    private const string GenerateProxyAttributeClass = "GenerateProxyAttribute";

    public const string GenerateProxyAttributeOverrideName = "GeneratedName";
    public const string GenerateProxyAttributeOverrideNamespace = "GeneratedNamespace";

    public static readonly string GenerateProxyAttributeName =
        $"{GenerateProxyAttributeNamespace}.{GenerateProxyAttributeClass}";

    public static readonly string ProxyCodeTemplate = $@"{AutoGeneratedWarning}
using System.CodeDom.Compiler;
using VoltRpc.Communication;

namespace {{0}}
{{{{
    /// <inheritdoc />
    [GeneratedCode(""{ThisAssembly.Info.Title}"", ""{ThisAssembly.Info.InformationalVersion}"")]
    public class {{1}} : {{2}}
    {{{{
        private readonly Client client;

        /// <summary>
        ///     Creates a new <see cref=""{{1}}""/> instance
        /// </summary>
        public {{1}}(Client client)
        {{{{
            this.client = client;
        }}}}

{{3}}
    }}}}
}}}}";
}